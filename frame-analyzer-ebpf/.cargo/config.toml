[build]
target = "bpfel-unknown-none"
target-dir = "../target"

[unstable]
# 补充alloc库，支持eBPF程序的内存分配需求
build-std = ["core", "alloc"]
# 启用compiler-builtins-mem，解决内存操作函数依赖
build-std-features = ["compiler-builtins-mem"]

[env]
RUSTUP_TOOLCHAIN = "nightly"
# 优先从cargo安装路径读取bpf-linker，再从临时目录读取
PATH = { value = "$HOME/.cargo/bin:$OUT_DIR/temp_target/bin:$PATH", force = true }
# 新增：禁用Cargo的增量编译，避免eBPF字节码缓存异常
CARGO_INCREMENTAL = "0"

